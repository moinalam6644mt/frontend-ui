"use strict";(self.webpackChunkfrontend_ui=self.webpackChunkfrontend_ui||[]).push([[710],{2710:(e,a,t)=>{t.r(a),t.d(a,{default:()=>p});var s=t(5043),i=t(1659),n=t(3216),r=t(3562),l=t(1036),c=t(579);const o=e=>{let{projectDetails:a,setUpdatedDocumentFile:t}=e;const{callApi:n,imgPath:o}=(0,i.A)(),[m,d]=(0,s.useState)(""),[p,j]=(0,s.useState)([]);(0,s.useEffect)((()=>{if(a){const e=a.images||[];j(e)}}),[a]);const u=async e=>{try{const a=(await Promise.all(e.map((e=>n({api:"/upload_project_file",method:"UPLOAD",data:{images:e,document:m}}))))).flatMap((e=>e.files));j((e=>{const t=e.map((e=>e.doc_name===m?{...e,details:[...e.details,...a.map((e=>({image:e.filename})))]}:e));return t.some((e=>e.doc_name===m))||t.push({doc_name:m,details:a.map((e=>({image:e.filename})))}),t})),t((e=>{const t=e.map((e=>e.doc_name===m?{...e,details:[...e.details,...a.map((e=>({image:e.filename})))]}:e));return t.some((e=>e.doc_name===m))||t.push({doc_name:m,details:a.map((e=>({image:e.filename})))}),t})),l.oR.success("Images uploaded successfully")}catch(a){console.error("Error occurred while uploading images:",a),l.oR.error("Failed to upload images")}};return console.log(p),(0,c.jsx)("div",{children:(0,c.jsxs)("div",{className:"bg-danger mt-1",children:[(0,c.jsx)("ul",{className:"body-tabs body-tabs-layout tabs-animated body-tabs-animated nav",children:r.zm.map(((e,a)=>(0,c.jsx)("li",{className:"nav-item",children:(0,c.jsx)("button",{onClick:()=>{return a=e.type,void d(a);var a},className:"btn btn-warning text-light mb-2 ml-0 "+(m===e.type?"active":""),style:{marginRight:"10px"},children:e.name})},a)))}),m&&(0,c.jsx)("div",{className:"masonryGrid",children:(()=>{const e=p.find((e=>e.doc_name===m));return e?e.details:[]})().map(((e,a)=>(0,c.jsxs)("div",{className:"image-item",children:[(0,c.jsx)("img",{src:`${o}/${e.image}`,alt:`image-${a}`,height:200,width:200}),(0,c.jsx)("button",{onClick:()=>(async e=>{try{const a=p.map((a=>a.doc_name===m?{...a,details:a.details.filter(((a,t)=>t!==e))}:a));j(a),t(a),l.oR.success("Image deleted successfully")}catch(a){console.error("Error deleting image:",a),l.oR.error("Failed to delete image")}})(a),children:"Delete"})]},a)))}),(0,c.jsx)("div",{children:(0,c.jsx)("input",{type:"file",multiple:!0,onChange:e=>{const a=Array.from(e.target.files);a.length>0&&u(a)}})})]})})},m=e=>{let{projectDetails:a,setUpdateddProjectGallery:t}=e;const{callApi:n,imgPath:o}=(0,i.A)(),[m,d]=(0,s.useState)(""),[p,j]=(0,s.useState)([]);(0,s.useEffect)((()=>{if(a){const e=a.projectViewImages||[];j(e)}}),[a]);const u=async e=>{try{const a=(await Promise.all(e.map((e=>n({api:"/upload_project_file",method:"UPLOAD",data:{images:e,document:m}}))))).flatMap((e=>e.files));j((e=>{const t=e.map((e=>e.key_name===m?{...e,images:[...e.images,...a.map((e=>({image:e.filename})))]}:e));return t.some((e=>e.key_name===m))||t.push({key_name:m,images:a.map((e=>({image:e.filename})))}),t})),t((e=>{const t=e.map((e=>e.key_name===m?{...e,images:[...e.images,...a.map((e=>({image:e.filename})))]}:e));return t.some((e=>e.key_name===m))||t.push({key_name:m,images:a.map((e=>({image:e.filename})))}),t})),l.oR.success("Images uploaded successfully")}catch(a){console.error("Error occurred while uploading images:",a),l.oR.error("Failed to upload images")}};return console.log(m),(0,c.jsx)("div",{children:(0,c.jsxs)("div",{className:"bg-danger mt-1",children:[(0,c.jsx)("ul",{className:"body-tabs body-tabs-layout tabs-animated body-tabs-animated nav",children:r.QD.map((e=>(0,c.jsx)("li",{className:"nav-item",children:(0,c.jsx)("button",{onClick:()=>{return a=e.key,void d(a);var a},className:"btn btn-warning text-light mb-2 ml-0 "+(m===e.key?"active":""),style:{marginRight:"10px"},children:e.name})},e.key)))}),m&&(0,c.jsx)("div",{className:"masonryGrid",children:(()=>{const e=p.find((e=>e.key_name===m));return e?e.images:[]})().map(((e,a)=>(0,c.jsxs)("div",{className:"image-item",children:[(0,c.jsx)("img",{src:`${o}/${e.image}`,alt:`image-${a}`,height:200,width:200}),(0,c.jsx)("button",{onClick:()=>(async e=>{try{const a=p.map((a=>a.key_name===m?{...a,images:a.images.filter(((a,t)=>t!==e))}:a));j(a),t(a),l.oR.success("Image deleted successfully")}catch(a){console.error("Error deleting image:",a),l.oR.error("Failed to delete image")}})(a),children:"Delete"})]},e.image)))}),(0,c.jsx)("div",{children:(0,c.jsx)("input",{type:"file",multiple:!0,onChange:e=>{const a=Array.from(e.target.files);a.length>0&&u(a)}})})]})})},d=e=>{let{projectDetails:a,setUpdatedFloorPlan:t}=e;const{callApi:n,imgPath:o}=(0,i.A)(),[m,d]=(0,s.useState)(""),[p,j]=(0,s.useState)([]);(0,s.useEffect)((()=>{if(a){const e=a.floorPlanImage||[];j(e)}}),[a]);const u=async e=>{try{const a=(await Promise.all(e.map((e=>n({api:"/upload_project_file",method:"UPLOAD",data:{images:e,document:m}}))))).flatMap((e=>e.files));j((e=>{const t=e.map((e=>e.key_name===m?{...e,images:[...e.images,...a.map((e=>({image:e.filename})))]}:e));return t.some((e=>e.key_name===m))||t.push({key_name:m,images:a.map((e=>({image:e.filename})))}),t})),t((e=>{const t=e.map((e=>e.key_name===m?{...e,images:[...e.images,...a.map((e=>({image:e.filename})))]}:e));return t.some((e=>e.key_name===m))||t.push({key_name:m,images:a.map((e=>({image:e.filename})))}),t})),l.oR.success("Images uploaded successfully")}catch(a){console.error("Error occurred while uploading images:",a),l.oR.error("Failed to upload images")}};return console.log(m),(0,c.jsx)("div",{children:(0,c.jsxs)("div",{className:"bg-danger mt-1",children:[(0,c.jsx)("ul",{className:"body-tabs body-tabs-layout tabs-animated body-tabs-animated nav",children:r.RG.map(((e,a)=>(0,c.jsx)("li",{className:"nav-item",children:(0,c.jsx)("button",{onClick:()=>{return a=e.name,void d(a);var a},className:"btn btn-warning text-light  "+(m===e.name?"active":""),style:{marginRight:"10px"},children:e.name})},a)))}),m&&(0,c.jsx)("div",{className:"masonryGrid",children:(()=>{const e=p.find((e=>e.bhk_type===m));return e?e.images:[]})().map(((e,a)=>(0,c.jsxs)("div",{className:"image-item",children:[(0,c.jsx)("img",{src:`${o}/${e.image}`,alt:`image-${a}`,height:200,width:200}),(0,c.jsx)("button",{onClick:()=>(async e=>{try{const a=p.map((a=>a.key_name===m?{...a,images:a.images.filter(((a,t)=>t!==e))}:a));j(a),t(a),l.oR.success("Image deleted successfully")}catch(a){console.error("Error deleting image:",a),l.oR.error("Failed to delete image")}})(a),children:"Delete"})]},a)))}),(0,c.jsx)("div",{children:(0,c.jsx)("input",{type:"file",multiple:!0,onChange:e=>{const a=Array.from(e.target.files);a.length>0&&u(a)}})})]})})},p=()=>{const{callApi:e}=(0,i.A)(),{project_id:a}=(0,n.g)(),[t,l]=(0,s.useState)({}),[p,j]=(0,s.useState)({}),[u,y]=(0,s.useState)(null),[h,g]=(0,s.useState)({}),[x,_]=(0,s.useState)(""),[f,k]=(0,s.useState)(null),[b,v]=(0,s.useState)(null),[N,P]=(0,s.useState)(""),[C,F]=(0,s.useState)(null),[D,S]=(0,s.useState)(null),[L,E]=(0,s.useState)(null),[R,w]=(0,s.useState)(null),[A,q]=(0,s.useState)(null);(0,s.useEffect)((()=>{Y(a)}),[a]);const Y=async a=>{try{const t=await e({api:`/get_unique_project/${a}`,method:"GET"});l(t.data)}catch(t){console.error("Error fetching project data:",t)}},I=()=>{u&&(l({...t,...p}),y(null))},T={updatedData:p,updateDocument:A,updateGallery:R,updatedFloorPlan:L},U=e=>{y(u===e?null:e)},$=()=>{y(null),j({})},M=e=>(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("input",{type:"text",value:p[e]||t[e]||"",onChange:a=>((e,a)=>{j({...p,[a]:e.target.value})})(a,e)}),h[e]&&(0,c.jsx)("div",{style:{color:"red"},children:h[e]}),(0,c.jsx)("button",{onClick:I,children:"Save"}),(0,c.jsx)("button",{onClick:$,children:"Cancel"})]}),z=()=>{const e=t.bhk_types.map((e=>e.bhk_type===x?{...f}:e));j({...p,bhk_types:e}),v(null)},G=e=>(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("input",{type:"text",value:f[e]||"",onChange:a=>((e,a)=>{k({...f,[a]:e.target.value})})(a,e)}),h[e]&&(0,c.jsx)("div",{style:{color:"red"},children:h[e]}),(0,c.jsx)("button",{onClick:z,children:"Save"}),(0,c.jsx)("button",{onClick:()=>v(null),children:"Cancel"})]}),H=(e,a)=>(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("input",{type:"text",value:C.details[e][a]||"",onChange:t=>((e,a,t)=>{const s=[...C.details];s[a]={...s[a],[t]:e.target.value},F({...C,details:s})})(t,e,a)}),h[a]&&(0,c.jsx)("div",{style:{color:"red"},children:h[a]})]});return console.log(L),(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:"short-banner",children:(0,c.jsx)("div",{className:"container",children:(0,c.jsx)("h1",{children:"EDIT PROJECT DETAILS"})})}),(0,c.jsxs)("ul",{className:"mb-2",style:{listStyleType:"none",backgroundColor:"pink",fontSize:"20px",border:"4px dotted red"},children:[(0,c.jsxs)("li",{children:["City Name:","city_name"===u?M("city_name"):(0,c.jsxs)(c.Fragment,{children:[t.city_name,(0,c.jsx)("i",{style:{marginLeft:"20px"},className:"icon-feather-edit",onClick:()=>U("city_name")})]})]}),(0,c.jsxs)("li",{children:["Society Name:","society_name"===u?M("society_name"):(0,c.jsxs)(c.Fragment,{children:[t.society_name,(0,c.jsx)("i",{style:{marginLeft:"20px"},className:"icon-feather-edit",onClick:()=>U("society_name")})]})]}),(0,c.jsxs)("li",{children:["Locality:","locality"===u?M("locality"):(0,c.jsxs)(c.Fragment,{children:[t.locality,(0,c.jsx)("i",{style:{marginLeft:"20px"},className:"icon-feather-edit",onClick:()=>U("locality")})]})]}),(0,c.jsxs)("li",{children:["Area:","area"===u?M("area"):(0,c.jsxs)(c.Fragment,{children:[t.area,(0,c.jsx)("i",{style:{marginLeft:"20px"},className:"icon-feather-edit",onClick:()=>U("area")})]})]}),(0,c.jsxs)("li",{children:["Address:","address"===u?M("address"):(0,c.jsxs)(c.Fragment,{children:[t.address,(0,c.jsx)("i",{style:{marginLeft:"20px"},className:"icon-feather-edit",onClick:()=>U("address")})]})]}),(0,c.jsxs)("li",{children:["Launched Date:","launched_date"===u?M("launched_date"):(0,c.jsxs)(c.Fragment,{children:[new Date(t.launched_date).toLocaleDateString(),(0,c.jsx)("i",{style:{marginLeft:"20px"},className:"icon-feather-edit",onClick:()=>U("launched_date")})]})]}),(0,c.jsxs)("li",{children:["Developer Name:","developer_name"===u?M("developer_name"):(0,c.jsxs)(c.Fragment,{children:[t.developer_name,(0,c.jsx)("i",{style:{marginLeft:"20px"},className:"icon-feather-edit",onClick:()=>U("developer_name")})]})]}),(0,c.jsxs)("li",{children:["Project Name:","project_name"===u?M("project_name"):(0,c.jsxs)(c.Fragment,{children:[t.project_name,(0,c.jsx)("i",{style:{marginLeft:"20px"},className:"icon-feather-edit",onClick:()=>U("project_name")})]})]}),(0,c.jsxs)("li",{children:["Total Tower No.:","tower"===u?M("tower"):(0,c.jsxs)(c.Fragment,{children:[t.tower,(0,c.jsx)("i",{style:{marginLeft:"20px"},className:"icon-feather-edit",onClick:()=>U("tower")})]})]}),(0,c.jsxs)("li",{children:["No. of Total Unit:","unit"===u?M("unit"):(0,c.jsxs)(c.Fragment,{children:[t.unit,(0,c.jsx)("i",{style:{marginLeft:"20px"},className:"icon-feather-edit",onClick:()=>U("unit")})]})]}),(0,c.jsxs)("li",{children:["Min Price Value ( in sq/ft) :","min_price"===u?M("min_price"):(0,c.jsxs)(c.Fragment,{children:[t.min_price,(0,c.jsx)("i",{style:{marginLeft:"20px"},className:"icon-feather-edit",onClick:()=>U("min_price")})]})]}),(0,c.jsxs)("li",{children:["Max Price Value ( in sq/ft) :","max_price"===u?M("max_price"):(0,c.jsxs)(c.Fragment,{children:[t.max_price,(0,c.jsx)("i",{style:{marginLeft:"20px"},className:"icon-feather-edit",onClick:()=>U("max_price")})]})]}),(0,c.jsxs)("li",{children:["Project Size in (sq/ft) :","project_size"===u?M("project_size"):(0,c.jsxs)(c.Fragment,{children:[t.project_size,(0,c.jsx)("i",{style:{marginLeft:"20px"},className:"icon-feather-edit",onClick:()=>U("project_size")})]})]}),(0,c.jsxs)("li",{children:["Project Amount per sq/ft(in INR) :","amt_per_sqft"===u?M("amt_per_sqft"):(0,c.jsxs)(c.Fragment,{children:[t.amt_per_sqft,(0,c.jsx)("i",{style:{marginLeft:"20px"},className:"icon-feather-edit",onClick:()=>U("amt_per_sqft")})]})]}),(0,c.jsxs)("li",{children:["Project Status :","project_status"===u?M("project_status"):(0,c.jsxs)(c.Fragment,{children:[t.project_status,(0,c.jsx)("i",{style:{marginLeft:"20px"},className:"icon-feather-edit",onClick:()=>U("project_status")})]})]}),(0,c.jsxs)("li",{children:["Project Description:","project_description"===u?M("project_description"):(0,c.jsxs)(c.Fragment,{children:[t.project_description,(0,c.jsx)("i",{style:{marginLeft:"20px"},className:"icon-feather-edit",onClick:()=>U("project_description")})]})]}),(0,c.jsxs)("li",{children:["Possession Date:","possession_date"===u?M("possession_date"):(0,c.jsxs)(c.Fragment,{children:[new Date(t.possession_date).toLocaleDateString(),(0,c.jsx)("i",{style:{marginLeft:"20px"},className:"icon-feather-edit",onClick:()=>U("possession_date")})]})]}),(0,c.jsxs)(s.Fragment,{children:[(0,c.jsx)("div",{className:"bg-danger mt-4",children:(0,c.jsx)("ul",{className:"body-tabs body-tabs-layout tabs-animated body-tabs-animated nav",children:r.RG.map(((e,a)=>(0,c.jsx)("li",{className:"nav-item",children:(0,c.jsx)("a",{onClick:()=>(e=>{var a;_(e);const s=null===(a=t.bhk_types)||void 0===a?void 0:a.find((a=>a.bhk_type===e));k(s)})(e.name),className:"nav-link "+(x===e.name?"active":""),children:(0,c.jsx)("span",{className:"btn btn-info text-light",style:{marginRight:"2px"},children:e.name})})},a)))})}),(0,c.jsx)("div",{children:f?(0,c.jsxs)("ul",{children:[(0,c.jsxs)("li",{children:["Min:","min_sqft"===b?G("min_sqft"):(0,c.jsxs)(c.Fragment,{children:[f.min_sqft,(0,c.jsx)("i",{style:{marginLeft:"20px"},className:"icon-feather-edit",onClick:()=>v("min_sqft")})]})]}),(0,c.jsxs)("li",{children:["Max:","max_sqft"===b?G("max_sqft"):(0,c.jsxs)(c.Fragment,{children:[f.max_sqft,(0,c.jsx)("i",{style:{marginLeft:"20px"},className:"icon-feather-edit",onClick:()=>v("max_sqft")})]})]}),(0,c.jsxs)("li",{children:["Total Units:","unit"===b?G("unit"):(0,c.jsxs)(c.Fragment,{children:[f.unit,(0,c.jsx)("i",{style:{marginLeft:"20px"},className:"icon-feather-edit",onClick:()=>v("unit")})]})]})]}):"No Record Founds"})]}),(0,c.jsxs)(s.Fragment,{children:[(0,c.jsx)("div",{className:"bg-danger mt-4",children:(0,c.jsx)("ul",{className:"body-tabs body-tabs-layout tabs-animated body-tabs-animated nav",children:r.Dx.map(((e,a)=>(0,c.jsx)("li",{className:"nav-item",children:(0,c.jsx)("a",{onClick:()=>(e=>{var a;P(e);const s=null===(a=t.landmarks)||void 0===a?void 0:a.find((a=>a.landmark_name===e));F(s)})(e.key),className:"nav-link "+(N===e.key?"active":""),children:(0,c.jsx)("span",{className:"btn btn-info text-light mb-1 ml-0",style:{marginRight:"10px"},children:e.name})})},a)))})}),(0,c.jsx)("div",{children:C?(0,c.jsxs)("ul",{children:[C.details.map(((e,a)=>(0,c.jsxs)("li",{children:["Landmark:",D===`landmark_value_${a}`?H(a,"landmark_value"):(0,c.jsxs)(c.Fragment,{children:[e.landmark_value,(0,c.jsx)("i",{style:{marginLeft:"20px"},className:"icon-feather-edit",onClick:()=>S(`landmark_value_${a}`)})]}),(0,c.jsx)("br",{}),"Distance:",D===`distance_${a}`?H(a,"distance"):(0,c.jsxs)(c.Fragment,{children:[e.distance,(0,c.jsx)("i",{style:{marginLeft:"20px"},className:"icon-feather-edit",onClick:()=>S(`distance_${a}`)})]})]},a))),D&&(0,c.jsx)("button",{onClick:()=>{const e=t.landmarks.map((e=>e.landmark_name===N?{...C}:e));j({...p,landmarks:e}),S(null)},children:"Save All"})]}):"No Record Found"})]}),(0,c.jsxs)(s.Fragment,{children:[(0,c.jsx)(o,{projectDetails:t,setUpdatedDocumentFile:q}),(0,c.jsx)(m,{projectDetails:t,setUpdateddProjectGallery:w}),(0,c.jsx)(d,{projectDetails:t,setUpdatedFloorPlan:E})]})]}),(0,c.jsx)("button",{className:"btn btn-info",style:{marginLeft:"40%"},onClick:async()=>{const t=JSON.stringify(T);try{await e({api:`/update_project/${a}`,method:"POST",data:{data:t}}),j({}),g({}),alert("Your changes have been updated successfully")}catch(s){console.error("Error updating data:",s),alert("Failed to update data")}},children:"Submit"})]})}},3562:(e,a,t)=>{t.d(a,{Cv:()=>s,Dx:()=>n,QD:()=>r,RG:()=>i,RM:()=>c,zm:()=>l});const s=[{key:"Proj1",label:"Enter Your City*",type:"project",resdata:"city_name"},{key:"Proj2",label:"Enter Project/Society Name*",type:"project",resdata:"society_name"},{key:"Proj3",label:"Enter your Locality*",type:"project",resdata:"locality"},{key:"Proj4",label:"Enter your Area*",type:"project",resdata:"area"},{key:"Proj5",label:"Enter your Address*",type:"project",resdata:"address"},{key:"Proj6",label:"Enter your Launched Date in (YYYY-MM-DD)*",type:"project",resdata:"launched_date"},{key:"Proj7",label:"Enter Your Developer Name*",type:"project",resdata:"developer_name"},{key:"Proj8",label:"Enter Your Project Name*",type:"project",resdata:"project_name"},{key:"Proj9",label:"Enter Total Tower No.*",type:"project",resdata:"tower"},{key:"Proj10",label:"Enter No. of Total Unit*",type:"project",resdata:"unit"},{key:"Proj11",label:"Project Size in (sq/ft)*",type:"project",resdata:"project_size"},{key:"Proj12",label:"Enter the Price Range in (50 Lac - 1 Cr.)*",type:"project",resdata:"price_range"},{key:"Proj13",label:"Write Project Description*",type:"project",resdata:"project_description"},{key:"Proj14",label:"Enter Your Possession Date in (YYYY-MM-DD)*",type:"project",resdata:"possession_date"},{key:"Proj15",label:"Enter Your per sq/ft Value*",type:"project_amount",resdata:"project_amount"},{key:"Proj16",label:"Upload Your Documents*",type:"project",resdata:"document"},{key:"Proj17",label:"Select Your Unit Type*",type:"unit_type",resdata:"unit_type"},{key:"Proj18",label:"Enter Landmark Details Near by Project*",type:"landmark",resdata:"landmark_details"},{key:"Proj19",label:"Project Status*",type:"project_status",resdata:"project_status"},{key:"Proj20",label:"uplaod Your Master Image*",type:"master_image",resdata:"master_image"},{key:"Proj21",label:"uplaod Project Images*",type:"project_image",resdata:"project_image"}],i=[{id:1,key:"1_bhk",name:"1 BHK"},{id:2,key:"2_bhk",name:"2 BHK"},{id:3,key:"3_bhk",name:"3 BHK"},{id:4,key:"4_bhk",name:"4 BHK"},{id:5,key:"5_bhk",name:"5 BHK"}],n=[{id:1,key:"educational",name:"Educational Institute"},{id:2,key:"transpot",name:"Transpotation Hub"},{id:3,key:"shopping",name:"Shopping Centre "},{id:4,key:"commercial",name:"Commercial Hub"}],r=[{id:1,key:"interior",name:"interior"},{id:2,key:"exterior",name:"exterior"},{id:3,key:"location",name:"location"},{id:4,key:"other",name:"other"}],l=[{id:1,name:"Insurance Policy",type:"insurance_policy"},{id:2,name:"Sale Agreement",type:"sale_agreement"},{id:3,name:"Lease Agreement",type:"lease_agreement"},{id:4,name:"Mortgage Agreement",type:"mortgage_agreement"},{id:5,name:"Loan Agreement",type:"loan_agreement"},{id:6,name:"Property Insurance Policy",type:"property_insurance_policy"},{id:7,name:"Appraisal Report",type:"appraisal_report"}],c=[{id:1,name:"Under_Construction"},{id:2,name:"completed"}]}}]);
//# sourceMappingURL=710.b1afee91.chunk.js.map