"use strict";(self.webpackChunkfrontend_ui=self.webpackChunkfrontend_ui||[]).push([[789],{2789:(e,s,a)=>{a.r(s),a.d(s,{default:()=>c});var r=a(5043),l=a(5475),i=a(1659),o=a(3892),t=a(899),n=a(3768),d=a(579);const c=()=>{const[e,s]=(0,r.useState)(1),{callApi:a}=(0,i.A)(),[c,m]=(0,r.useState)(""),[h,p]=(0,r.useState)(""),[u,f]=(0,r.useState)(""),[x,j]=(0,r.useState)(""),w=(0,o.Wx)({initialValues:{email:c,otp:h,password:"",confirmPassword:""},validationSchema:t.Ik({email:t.Yj().email("Invalid email").required("Email is required")}),validateOnBlur:!0,onSubmit:async r=>{try{let l;if(1===e)l=await a({api:"/send-otp",method:"POST",data:c}),p(l.data),s(2),n.Ay.success(l.message);else if(2===e)l=await a({api:"/verify-otp",method:"POST",data:{otp:h}}),s(3),n.Ay.success("OTP validated successfully");else if(3===e){if(u!==x)return void n.Ay.error("Passwords do not match");l=await a({api:"/update_password",method:"POST",data:r}),n.Ay.success("Password reset successfully")}}catch(l){console.error("Error:",l),n.Ay.error("Failed to complete the process")}}});return(0,d.jsxs)("div",{children:[(0,d.jsx)(n.l$,{position:"top-center",reverseOrder:!1}),(0,d.jsx)("div",{className:"short-banner",children:(0,d.jsx)("div",{className:"container",children:(0,d.jsx)("h1",{children:1===e?"Forget Password":2===e?"Validate OTP":3===e?"Set New Password":""})})}),(0,d.jsx)("section",{className:"section authentication-page",children:(0,d.jsx)("div",{className:"container",children:(0,d.jsxs)("div",{className:"row justify-content-center align-items-center",children:[(0,d.jsxs)("div",{className:"col-lg-6 col-12",children:[(0,d.jsx)("img",{src:"./images/property-vector-2.png",alt:"",className:"img-fluid"}),(0,d.jsx)("h4",{children:"Things you can do with this account"}),(0,d.jsxs)("ul",{className:"list list-1 list-get",children:[(0,d.jsx)("li",{children:"Post one Single Property for FREE"}),(0,d.jsx)("li",{children:"Set property alerts for your requirement"}),(0,d.jsx)("li",{children:"Get accessed by over 1 Lakh buyers"}),(0,d.jsx)("li",{children:"Showcase your property as Rental, PG or for Sale"}),(0,d.jsx)("li",{children:"Get instant queries over Phone, Email and SMS"}),(0,d.jsx)("li",{children:"Performance in search & Track responses & views online"}),(0,d.jsx)("li",{children:"Add detailed property information & multiple photos per listing"})]})]}),(0,d.jsx)("div",{className:"col-lg-6 col-12",children:(0,d.jsxs)("form",{className:"authentication-form",id:"login_form",autoComplete:"off",onSubmit:w.handleSubmit,children:[(0,d.jsx)("h3",{className:"mb-4",children:"Forgot Password"}),1===e&&(0,d.jsxs)("div",{className:"form-floating mb-3",children:[(0,d.jsx)("input",{type:"email",className:"form-control",name:"email",value:w.values.email,onChange:w.handleChange,id:"email",placeholder:"Enter your email"}),(0,d.jsx)("label",{htmlFor:"email",children:"Email"}),w.touched.email&&w.errors.email&&(0,d.jsx)("div",{style:{color:"red",fontStyle:"italic"},children:w.errors.email})]}),2===e&&(0,d.jsxs)("div",{className:"form-floating mb-3",children:[(0,d.jsx)("input",{type:"text",className:"form-control",name:"otp_data",value:h,onChange:e=>((e,s)=>{const a=e.target.value;"otp"===s?p(a):"password"===s?f(a):"password"===s?j(a):"email"===s&&m(a)})(e,"otp"),id:"otp_data",placeholder:"Enter OTP"}),(0,d.jsx)("label",{htmlFor:"otp_data",children:"Enter OTP"})]}),3===e&&(0,d.jsxs)("div",{className:"form-floating mb-3",children:[(0,d.jsx)("input",{type:"password",className:"form-control",name:"password",value:w.values.password,onChange:w.handleChange,id:"password",placeholder:"Enter new password"}),(0,d.jsx)("label",{htmlFor:"password",children:"New Password"})]}),3===e&&(0,d.jsxs)("div",{className:"form-floating mb-3",children:[(0,d.jsx)("input",{type:"password",className:"form-control",name:"confirmPassword",value:w.values.confirmPassword,onChange:w.handleChange,id:"confirmPassword",placeholder:"Re-enter new password"}),(0,d.jsx)("label",{htmlFor:"confirmPassword",children:"Confirm Password"})]}),(0,d.jsx)("div",{className:"d-grid",children:(0,d.jsx)("button",{type:"submit",className:"btn btn-site mb-2",children:1===e?"Submit":2===e?"Validate OTP":"Set New Password"})}),(0,d.jsx)("p",{className:"text-end",children:(0,d.jsx)(l.N_,{to:"/login",children:"Login"})})]})})]})})})]})}}}]);
//# sourceMappingURL=789.a108355b.chunk.js.map